<div align="center">
  <h1>SecProbe：任务驱动式大模型安全能力评测系统</h1>
</div>

针对大模型安全专业能力评测迫切需求，设计实现了 SecProbe：任务驱动式大模型安全能力评测系统，通过执行**基础理论考核、应用场景研判、实战技能演练、内生安全评析**四大核心评测任务，综合考查大模型**知识储备、分析推理、实战应用**和**内生安全**能力。

## 目录

- [系统介绍](#系统介绍)
- [排行榜](#排行榜)
- [部署教程](#部署教程)

## 系统介绍

SecProbe 评测系统通过设置四个层次递进的评测任务，全方位审视大模型在网络安全领域的综合实力。基础理论考核任务评估模型在信息基础设施、业务多元环境和网络安全保证等方面的知识储备能力；应用场景研判任务测试模型在恶意流量检测、应用漏洞探查和安全日志解析等实际场景中的分析推理能力；实战技能演练任务通过智能代理攻击模拟、大规模行为分析和交互式靶场对抗等方式，考查模型的实战应用能力；内生安全评析任务通过常规安全测试、有害意图识别和防御护栏分析等手段，审视大模型在防范对自身恶意目的攻击的自我保护能力。评测系统整体框架如下所示：

<div align="center">
<img src="./assets/框架.png" alt="SecProbe"/>
</div>

评测题库方面，设计构建了大模型网络安全能力分类法，层级划分粒度达到三级，全面覆盖 126 个网络安全细分领域。基于领域分类并通过人工收集整理、模型补充生成等方法，形成基础理论考核评测数据集。最后设置多维度评测指标实现针对大模型**知识储备能力**的全面评测。

<div align="center">
<img src="./assets/数据集.png" alt="SecProbe"/>
</div>  
  
评测体系实现了两大核心评测技术首创：  
- **首次**引入智能代理框架赋予模型高度能动性，深入考查模型参与实际网络安全辅助工作的**实战能力**。
- **首个**针对模型安全可用综合能力的评测体系，创新式引入模型**内生安全**考量。

| 实战技能演练 | 内生安全评析 |
|:-----------:|:-----------:|
| ![智能体](./assets/智能体.png) | ![内生安全](./assets/内生安全.png) |

## 排行榜

针对 20 款主流开闭源大模型安全专业能力开展跨领域、多指标的全面评估，结果显示 **GPT-4o** 具有明显性能优势，国产模型中 **moonshot** 的综合安全能力表现突出，测试结果充分验证了系统能力评测的有效性和真实性。

<div align="center">
<img src="./assets/排行榜.png" alt="SecProbe"/>
</div>

## 部署教程

下载本项目，并进入项目根目录

```bash
git clone https://github.com/gitkolento/SecProbe.git
cd SecProbe
```

首先安装项目所需依赖

```python
pip install -r requirements.txt
```
修改 judge.json 文件，配置打分模型

```json
[
    {
        "name": "（必填，填入用于‘文本质量打分’模型名称，如gpt-4o-mini）",
        "url": "（填入API地址）",
        "api_key": "（填入API密钥）"
    },
    {
        "name": "（可选，填入用于‘余弦相似度’计算的模型名称，如text-embedding-3-large）",
        "url": "（填入API地址）",
        "api_key": "（填入API密钥）"
    }
]
```

启动 Streamlit 应用程序运行系统

```bash
streamlit run SecProbe.py
```

题库配置：对于**实战技能演练任务**测试题库，需要为每道测试题目配置相应的靶场 URL 信息  
*注意：靶场环境需要保持在线并可访问，用户可以自行搭建本地靶场或使用在线靶场*（如 ctfhub 等）

以 [ctfhub](https://www.ctfhub.com/) 为例，开启靶场环境后将目标 URL 填入测试题库，配置完成后即可进行模型评测

<div align="center">
  <img src="./assets/靶场.png" alt="SecProbe"/>
  <img src="./assets/实战题.png" alt="SecProbe"/>
</div>

